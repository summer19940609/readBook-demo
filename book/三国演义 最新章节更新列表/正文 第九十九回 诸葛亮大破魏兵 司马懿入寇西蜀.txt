蜀汉建兴七年夏四月孔明兵在祁山分作三寨专候魏兵。却说司马懿引兵到长安张郃接见备言前事。懿令郃为先锋戴陵为副将引十万兵到祁山于渭水之南下寨。郭淮、孙礼入寨参见。懿问曰：“汝等曾与蜀兵对阵否？”二人答曰：“未也。”懿曰：“蜀兵千里而来利在战；今来此不战必有谋也。陇西诸路曾有信息否？”淮曰：“已有细作探得各郡十分用心日夜提防并无他事。只有武都、阴平二处未曾回报。”懿曰：“吾自差人与孔明交战。汝二人急从小路去救二郡却掩在蜀兵之后彼必自乱矣。”二人受计引兵五千从陇西小路来救武都、阴平就袭蜀兵之后。郭淮于路谓孙礼曰：“仲达比孔明如何？”礼曰：“孔明胜仲达多矣。”淮曰：“孔明虽胜此一计足显仲达有过人之智。蜀兵如正攻两郡我等从后抄到彼岂不自乱乎？”正言间忽哨马来报：“阴平已被王平打破了武都已被姜维打破了。前离蜀兵不远。”礼曰：“蜀兵既已打破了城池如何陈兵于外？必有诈也。不如退。”郭淮从之。方传令教军退时忽然一声炮响山背后闪出一枝军马来旗上大书：“汉丞相诸葛亮”中央一辆四轮车孔明端坐于上；左有关兴右有张苞。孙、郭二人见之大惊。孔明大笑曰：“郭淮、孙礼休走！司马懿之计安能瞒得过吾？他每日令人在前交战却教汝等袭吾军后。武都、阴平吾已取了。汝二人不早来降欲驱兵与吾决战耶？”郭淮、孙礼听毕大慌。忽然背后喊杀连天王平、姜维引兵从后杀来。兴、苞二将又引军从前面杀来。两下夹攻魏兵大败。郭、孙二人弃马爬山而走。张苞望见骤马赶来；不期连人带马跌入涧内后军急忙救起头已跌破。孔明令人送回成都养病。却说郭、孙二人走脱回见司马懿曰：“武都、阴平二郡已失。孔明伏于要路前后攻杀因此大败弃马步行方得逃回。”懿曰：“非汝等之罪孔明智在吾先。可再引兵守把雍、郿二城切勿出战。吾自有破敌之策。”二人拜辞而去。懿又唤张郃、戴陵分付曰：“今孔明得了武都、阴平必然抚百姓以安民心不在营中矣。汝二人各引一万精兵今夜起身抄在蜀兵营后一齐奋勇杀将过来；吾却引军在前布阵只待蜀兵势乱吾大驱士马攻杀进去：两军并力可夺蜀寨也。若得此地山势破敌何难？”二人受计引兵而去。戴陵在左张郃在右各取小路进深入蜀兵之后。三更时分来到大路两军相遇合兵一处却从蜀兵背后杀来。行不到三十里前军不行。张、戴二人自纵马视之只见数百辆草车横截去路。郃曰：“此必有准备。可急取路而回。”才传令退军只见满山火光齐明鼓角大震伏兵四下皆出把二人围住。孔明在祁山上大叫曰：“戴陵、张郃可听吾言：司马懿料吾往武都、阴平抚民不在营中故令汝二人来劫吾寨却中吾之计也。汝二人乃无名下将吾不杀害下马早降！”郃大怒指孔明而骂曰：“汝乃山野村夫侵吾大国境界如何敢此言！吾若捉住汝时碎尸万段！”言讫纵马挺枪杀上山来。山上矢石如雨郃不能上山乃拍马舞枪冲出重围无人敢当。蜀兵困戴陵在垓心。郃杀出旧路不见戴陵即奋勇翻身又杀入重围救出戴陵而回。孔明在山上见郃在万军之中往来冲突英勇倍加乃谓左右曰：“尝闻张翼德大战张郃人皆惊惧。吾今日见之方知其勇也。若留下此人必为蜀中之害。吾当除之。”遂收军还营。却说司马懿引兵布成阵势只待蜀兵乱动一齐攻之。忽见张郃、戴陵狼狈而来告曰：“孔明先如此提防因此大败而归。”懿大惊曰：“孔明真神人也！不如且退。”即传令教大军尽回本寨坚守不出。且说孔明大胜所得器械、马匹不计其数乃引大军回寨。每日令魏延挑战魏兵不出。一连半月不曾交兵。孔明正在帐中思虑忽报天子遣侍中费祎赍诏至。孔明接入营中焚香礼毕开诏读曰：“街亭之役咎由马谡；而君引愆深自贬抑。重违君意听顺所守。前年耀师馘斩王双；今岁爱征郭淮遁走；降集氏、羌复兴二郡：威震凶暴功勋显然。方今天下骚扰元恶未枭君受大任干国之重而久自抑损非所以光扬洪烈矣。今复君丞相君其勿辞！”孔明听诏毕谓费祎曰：“吾国事未成安可复丞相之职？”坚辞不受。祎曰：“丞相若不受职拂了天子之意又冷淡了将士之心。宜且权受。”孔明方才拜受。祎辞去。孔明见司马懿不出思得一计传令教各处皆拔寨而起。当有细作报知司马懿说孔明退兵了。懿曰：“孔明必有大谋不可轻动。”张郃曰：“此必因粮尽而回如何不追？”懿曰：“吾料孔明上年大收今又麦熟粮草丰足；虽然转运艰难亦可支吾半载安肯便走？彼见吾连日不战故作此计引诱。可令人远远哨之。”军士探知回报说：“孔明离此三十里下寨。”懿曰：“吾料孔明果不走。且坚守寨栅不可轻进。”住了旬日绝无音信并不见蜀将来战。懿再令人哨探回报说：“蜀兵已起营去了。”懿未信乃更换衣服杂在军中亲自来看果见蜀兵又退三十里下寨。懿回营谓张郃曰：“此乃孔明之计也不可追赶。”又住了旬日再令人哨探。回报说：“蜀兵又退三十里下寨。”郃曰：“孔明用缓兵之计渐退汉中都督何故怀疑不早追之？郃愿往决一战！”懿曰：“孔明诡计极多倘有差失丧我军之锐气。不可轻进。”郃曰：“某去若败甘当军令。”懿曰：“既汝要去可分兵两枝：汝引一枝先行须要奋力死战；吾随后接应以防伏兵。汝次日先进到半途驻扎后日交战使兵力不乏。”遂分兵已毕。次日张郃、戴陵引副将数十员、精兵三万奋勇先进到半路下寨。司马懿留下许多军马守寨只引五千精兵随后进。原来孔明密令人哨探见魏兵半路而歇。是夜孔明唤众将商议曰：“今魏兵来追必然死战汝等须以一当十吾以伏兵截其后：非智勇之将不可当此任。”言毕以目视魏延。延低头不语。王平出曰：“某愿当之。”孔明曰：“若有失如何？”平曰：“愿当军令。”孔明叹曰：“王平肯舍身亲冒矢石真忠臣也！虽然如此奈魏兵分两枝前后而来断吾伏兵在中；平纵然智勇只可当一头岂可分身两处？须再得一将同去为妙。怎奈军中再无舍死当先之人！”言未毕一将出曰：“某愿往！”孔明视之乃张翼也。孔明曰：“张郃乃魏之名将有万夫不当之勇汝非敌手。”翼曰：“若有失事愿献于帐下。”孔明曰：“汝既敢去可与王平各引一万精兵伏于山谷中；只待魏兵赶上任他过尽汝等却引伏兵从后掩杀。若司马懿随后赶来却分兵两头：张翼引一军当住后队王平引一军截其前队。两军须要死战。吾自有别计相助。”二人受计引兵而去。孔明又唤姜维、廖化分付曰：“与汝二人一个锦囊引三千精兵偃旗息鼓伏于前山之上。如见魏兵围住王平、张翼十分危急不必去救只开锦囊看视自有解危之策。”二人受计引兵而去。又令吴班、吴懿、马忠、张嶷四将附耳分付曰：“如来日魏兵到锐气正盛不可便迎且战且走。只看关兴引兵来掠阵之时汝等便回军赶杀吾自有兵接应。”四将受计引兵而去。又唤关兴分付曰：“汝引五千精兵伏于山谷；只看山上红旗飐动却引兵杀出。”兴受计引兵而去。却说张郃、戴陵领兵前来骤如风雨。马忠、张嶷、吴懿、吴班四将接着出马交锋。张郃大怒驱兵追杀。蜀兵且战且走魏兵追赶约有二十余里时值六月天气十分炎热人马汗如泼水。走到五十里外魏兵尽皆气喘。孔明在山上把红旗一招关兴引兵杀出。马忠等四将一齐引兵掩杀回来。张郃、戴陵死战不退。忽然喊声大震两路军杀出乃王平、张翼也。各奋勇追杀截其后路。郃大叫众将曰：“汝等到此不决一死战更待何时！”魏兵奋力冲突不得脱身。忽然背后鼓角喧天司马懿自领精兵杀到。懿指挥众将把王平、张翼围在垓心。翼大呼曰：“丞相真神人也！计已算定必有良谋。吾等当决一死战！”即分兵两路：平引一军截住张郃、戴陵翼引一军力当司马懿。两头死战叫杀连天。姜维、廖化在山上探望见魏兵势大蜀兵力危渐渐抵当不住。维谓化曰：“如此危急可开锦囊看计。”二人拆开视之内书云：“若司马懿兵来围王平、张翼至急汝二人可分兵两枝竟袭司马懿之营；懿必急退汝可乘乱攻之。营虽不得可获全胜。”二人大喜即分兵两路径袭司马懿营中而去。原来司马懿亦恐中孔明之计沿途不住的令人传报。懿正催战间忽流星马飞报言蜀兵两路竟取大寨去了懿大惊失色乃谓众将曰：“吾料孔明有计汝等不信勉强追来却误了大事！”即提兵急回。军心惶惶乱走。张翼随后掩杀魏兵大败。张郃、戴陵见势孤亦望山僻小路而走蜀兵大胜。背后关兴引兵接应诸路。司马懿大败一阵奔入寨时蜀兵已自回去。懿收聚败军责骂诸将曰：“汝等不知兵法只凭血气之勇强欲出战致有此败。今后切不许妄动再有不遵决正军法！”众皆羞惭而退。这一阵魏军死者极多遗弃马匹器械无数。却说孔明收得胜军马入寨又欲起兵进取。忽报有人自成都来说张苞身死。孔明闻知放声大哭口中吐血昏绝于地。众人救醒。孔明自此得病卧床不起。诸将无不感激。后人有诗叹曰：“悍勇张苞欲建功可怜天不助英雄！武侯泪向西风洒为念无人佐鞠躬。”旬日之后孔明唤董厥、樊建等入帐分付曰：“吾自觉昏沉不能理事；不如且回汉中养病再作良图。汝等切勿走泄：司马懿若知必来攻击。”遂传号令教当夜暗暗拔寨皆回汉中。孔明去了五日懿方得知乃长叹曰：“孔明真有神出鬼没之计吾不能及也！”于是司马懿留诸将在寨中分兵守把各处隘口；懿自班师回。却说孔明将大军屯于汉中自回成都养病；文武官僚出城迎接送入丞相府中后主御驾自来问病命御医调治日渐痊可。建兴八年秋七月魏都督曹真病可乃上表说：“蜀兵数次侵界屡犯中原若不剿除必为后患。今时值秋凉人马安闲正当征伐。臣愿与司马懿同领大军径入汉中殄灭奸党以清边境。”魏主大喜问侍中刘晔曰：“子丹劝朕伐蜀若何？”晔奏曰：“大将军之言是也。今若不剿除后必为大患。陛下便可行之。睿点头。晔出内回家有众大臣相探问曰：“闻天子与公计议兴兵伐蜀此事如何？”晔应曰：“无此事也。蜀有山川之险非可易图；空费军马之劳于国无益。”众官皆默然而出。杨暨入内奏曰：“昨闻刘晔劝陛下伐蜀；今日与众臣议又言不可伐：是欺陛下也。陛下何不召而问之？”睿即召刘晔入内问曰：“卿劝朕伐蜀；今又言不可何也？”晔曰：“臣细详之蜀不可伐。”睿大笑。少时杨暨出内。晔奏曰：“臣昨日劝陛下伐蜀乃国之大事岂可妄泄于人？夫兵者诡道也：事未切宜秘之。”睿大悟曰：“卿言是也。”自此愈加敬重。旬日内司马懿入朝魏主将曹真表奏之事逐一言之。懿奏曰：“臣料东吴未敢动兵今日正可乘此去伐蜀。”睿即拜曹真为大司马、征西大都督司马懿为大将军、征西副都督刘晔为军师。三人拜辞魏主引四十万大兵前行至长安径奔剑阁来取汉中。其余郭淮、孙礼等各取路而行。汉中人报入成都。此时孔明病好多时每日操练人马习学八阵之法尽皆精熟欲取中原；听得这个消息遂唤张嶷、王平分付曰：“汝二人先引一千兵去守陈仓古道以当魏兵；吾却提大兵便来接应。”二人告曰：“人报魏军四十万诈称八十万声势甚大如何只与一千兵去守隘口？倘魏兵大至何以拒之？”孔明曰：“吾欲多与恐士卒辛苦耳。”嶷与平面面相觑皆不敢去。孔明曰：“若有疏失非汝等之罪。不必多言可疾去。”二人又哀告曰：“丞相欲杀某二人就此清杀只不敢去。”孔明笑曰：“何其愚也！吾令汝等去自有主见：吾昨夜仰观天文见毕星廛于太阴之分此月内必有大雨淋漓；魏兵虽有四十万安敢深入山险之地？因此不用多军决不受害。吾将大军皆在汉中安居一月待魏兵退那时以大兵掩之：以逸待劳吾十万之众可胜魏兵四十万也。”二人听毕方大喜拜辞而去。孔明随统大军出汉中传令教各处隘口预备干柴草料细粮俱够一月人马支用以防秋雨；将大军宽限一月先给衣食伺候出征。却说曹真、司马懿同领大军径到陈仓城内不见一间房屋；寻土人问之皆言孔明回时放火烧毁。曹真便要从陈仓道进。懿曰：“不可轻进。我夜观天文见毕星躔于太阴之分此月内必有大雨；若深入重地常胜则可。倘有疏虞人马受苦要退则难。且宜在城中搭起窝铺住扎以防阴雨。”真从其言。未及半月天雨大降淋漓不止。陈仓城外平地水深三尺军器尽湿人不得睡昼夜不安。大雨连降三十日马无草料死者无数军士怨声不绝。传入洛阳魏主设坛求晴不得。黄门侍郎王肃上疏曰：“前志有之；千里馈粮士有饥色；樵苏后爨师不宿饱。此谓平途之行军者也。又况于深入险阻凿路而前则其为劳必相百也。今又加之以霖雨山坂峻滑众逼而不展粮远而难继：实行军之大忌也。闻曹真已逾月而行方半谷治道功大战士悉作：是彼偏得以逸待劳乃兵家之所惮也。言之前代则武王伐纣出关而复还；论之近事则武、文征权临江而不济：岂非顺天知时通于权变者哉？愿陛下念水雨艰剧之故休息士卒；后日有衅乘时用之。所谓悦以犯难民忘其死者也。”魏主览表正在犹豫杨阜、华歆亦上疏谏。魏主即下诏遣使诏曹真、司马懿还朝。却说曹真与司马懿商议曰：“今连阴三十日军无战心各有思归之意如何禁止？”懿曰：“不如且回。”真曰：“倘孔明追来怎生退之？”懿曰：“先伏两军断后方可回兵。”正议间忽使命来召。二人遂将大军前队作后队后队作前队徐徐而退。却说孔明计算一月秋雨将尽天尚未晴自提一军屯于城固又传令教大军会于赤坡驻扎。孔明升帐唤众将言曰：“吾料魏兵必走魏主必下诏来取曹真、司马懿兵回。吾若追之必有准备；不如任他且去再作良图。”忽王平令人报来说魏兵已回。孔明分付来人传与王平：“不可追袭。吾自有破魏兵之策。”正是：魏兵纵使能埋伏汉相原来不肯追。未知孔明怎生破魏且看下文分解。