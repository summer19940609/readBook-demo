却说魏主曹睿令张郃为先锋与司马懿一同征进；一面令辛毗、孙礼二人领兵五万往助曹真。二人奉诏而去。且说司马懿引二十万军出关下寨请先锋张郃至帐下曰：“诸葛亮平生谨慎未敢造次行事。若是吾用兵先从子午谷径取长安早得多时矣。他非无谋但怕有失不肯弄险。今必出军斜谷来取郿城。若取郿城必分兵两路一军取箕谷矣。吾已檄文令子丹拒守郿城若兵来不可出战；令孙礼、辛毗截住箕谷道口若兵来则出奇兵击之。”郃曰：“今将军当于何处进兵？”懿曰：“吾素知秦岭之西有一条路地名街亭；傍有一城名列柳城：此二处皆是汉中咽喉。诸葛亮欺子丹无备定从此进。吾与汝径取街亭望阳平关不远矣。亮若知吾断其街亭要路绝其粮道则陇西一境不能安守必然连夜奔回汉中去也。彼若回动吾提兵于小路击之可得全胜；若不归时吾却将诸处小路尽皆垒断俱以兵守之。一月无粮蜀兵皆饿死亮必被吾擒矣。”张郃大悟拜伏于地曰：“都督神算也！”懿曰：“虽然如此诸葛亮不比孟达。将军为先锋不可轻进。当传与诸将：循山西路远远哨探。如无伏兵方可前进。若是怠忽必中诸葛亮之计。”张郃受计引军而行。却说孔明在祁山寨中忽报新城探细人来到。孔明急唤入问之细作告曰：“司马懿倍道而行八日已到新城孟达措手不及；又被申耽、申仪、李辅、邓贤为内应：孟达被乱军所杀。今司马懿撤兵到长安见了魏主同张郃引兵出关来拒我师也。”孔明大惊曰：“孟达做事不密死固当然。今司马懿出关必取街亭断吾咽喉之路。”便问：“谁敢引兵去守街亭？”言未毕参军马谡曰：“某愿往。”孔明曰：“街亭虽小干系甚重：倘街亭有失吾大军皆休矣。汝虽深通谋略此地奈无城郭又无险阻守之极难。”谡曰：“某自幼熟读兵书颇知兵法。岂一街亭不能守耶？”孔明曰：“司马懿非等闲之辈；更有先锋张郃乃魏之名将：恐汝不能敌之。”谡曰：“休道司马懿、张郃便是曹睿亲来有何惧哉！若有差失乞斩全家。”孔明曰：“军中无戏言。”谡曰：“愿立军令状。”孔明从之谡遂写了军令状呈上。孔明曰：“吾与汝二万五千精兵再拨一员上将相助你去。”即唤王平分付曰：“吾素知汝平生谨慎故特以此重任相托。汝可小心谨守此地：下寨必当要道之处使贼兵急切不能偷过。安营既毕便画四至八道地理形状图本来我看。凡事商议停当而行不可轻易。如所守无危则是取长安第一功也。戒之！戒之！”二人拜辞引兵而去。孔明寻思恐二人有失又唤高翔曰：“街亭东北上有一城名列柳城乃山僻小路此可以屯兵扎寨。与汝一万兵去此城屯扎。但街亭危可引兵救之。”高翔引兵而去。孔明又思：高翔非张郃对手必得一员大将屯兵于街亭之右方可防之遂唤魏延引本部兵去街亭之后屯扎。延曰：“某为前部理合当先破敌何故置某于安闲之地？’孔明曰：“前锋破敌乃偏裨之事耳。今令汝接应街亭当阳平关冲要道路总守汉中咽喉：此乃大任也何为安闲乎？汝勿以等闲视之失吾大事。切宜小心在意！”魏延大喜引兵而去。孔明恰才心安乃唤赵云、邓芝分付曰：“今司马懿出兵与旧日不同。汝二人各引一军出箕谷以为疑兵。如逢魏兵或战、或不战以惊其心。吾自统大军由斜谷径取郿城；若得郿城长安可破矣。”二人受命而去。孔明令姜维作先锋兵出斜谷。却说马谡、王平二人兵到街亭看了地势。马谡笑曰：“丞相何故多心也？量此山僻之处魏兵如何敢来！”王平曰：“虽然魏兵不敢来可就此五路总口下寨；却令军士伐木为栅以图久计。”谡曰：“当道岂是下寨之地？此处侧边一山四面皆不相连且树木极广此乃天赐之险也：可就山上屯军。”平曰：“参军差矣。若屯兵当道筑起城垣贼兵总有十万不能偷过；今若弃此要路屯兵于山上倘魏兵骤至四面围定将何策保之？”谡大笑曰：“汝真女子之见！兵法云：凭高视下势如劈竹。若魏兵到来吾教他片甲不回！”平曰：“吾累随丞相经阵每到之处丞相尽意指教。今观此山乃绝地也：若魏兵断我汲水之道军士不战自乱矣。”谡曰：“汝莫乱道！孙子云：置之死地而后生。若魏兵绝我汲水之道蜀兵岂不死战？以一可当百也。吾素读兵书丞相诸事尚问于我汝奈何相阻耶！”平曰：“若参军欲在山上下寨可分兵与我自于山西下一小寨为掎角之势。倘魏兵至可以相应。”马谡不从。忽然山中居民成群结队飞奔而来报说魏兵已到。王平欲辞去。马谡曰：“汝既不听吾令与汝五千兵自去下寨。待吾破了魏兵到丞相面前须分不得功！”王平引兵离山十里下寨画成图本星夜差人去禀孔明具说马谡自于山上下寨。却说司马懿在城中令次子司马昭去探前路：若街亭有兵守御即当按兵不行。司马昭奉令探了一遍回见父曰：“街亭有兵守把。”懿叹曰：“诸葛亮真乃神人吾不如也！”昭笑曰：“父亲何故自堕志气耶？男料街亭易取。”懿问曰：“汝安敢出此大言？”昭曰：“男亲自哨见当道并无寨栅军皆屯于山上故知可破也。”懿大喜曰：“若兵果在山上乃天使吾成功矣！”遂更换衣服引百余骑亲自来看。是夜天晴月朗直至山下周围巡哨了一遍方回。马谡在山上见之大笑曰：“彼若有命不来围山！”传令与诸将：“倘兵来只见山顶上红旗招动即四面皆下。”却说司马懿回到寨中使人打听是何将引兵守街亭。回报曰：“乃马良之弟马谡也。”懿笑曰：“徒有虚名乃庸才耳！孔明用如此人物如何不误事！”又问：“街亭左右别有军否？”探马报曰：“离山十里有王平安营。”懿乃命张郃引一军当住王平来路。又令申耽、申仪引两路兵围山先断了汲水道路；待蜀兵自乱然后乘势击之。当夜调度已定。次日天明张郃引兵先往背后去了。司马懿大驱军马一拥而进把山四面围定。马谡在山上看时只见魏兵漫山遍野旌旗队伍甚是严整。蜀兵见之尽皆丧胆不敢下山。马谡将红旗招动军将你我相推无一人敢动。谡大怒自杀二将。众军惊惧只得努力下山来冲魏兵。魏兵端然不动。蜀兵又退上山去。马谡见事不谐教军紧守寨门只等外应。却说王平见魏兵到引军杀来正遇张郃；战有数十余合平力穷势孤只得退去。魏兵自辰时困至戌时山上无水军不得食寨中大乱。嚷到半夜时分山南蜀兵大开寨门下山降魏。马谡禁止不住。司马懿又令人于沿山放火山上蜀兵愈乱。马谡料守不住只得驱残兵杀下山西逃奔。司马懿放条大路让过马谡。背后张郃引兵追来。赶到三十余里前面鼓角齐鸣一彪军出放过马谡拦住张郃；视之乃魏延也。延挥刀纵马直取张郃。郃回军便走。延驱兵赶来复夺街亭。赶到五十余里一声喊起两边伏兵齐出：左边司马懿右边司马昭却抄在魏延背后把延困在垓心。张郃复来三路兵合在一处。魏延左冲右突不得脱身折兵大半。正危急间忽一彪军杀入乃王平也。延大喜曰：“吾得生矣！”二将合兵一处大杀一阵魏兵方退。二将慌忙奔回寨时营中皆是魏兵旌旗。申耽、申仪从营中杀出。王平、魏延径奔列柳城来投高翔。此时高翔闻知街亭有失尽起列柳城之兵前来救应正遇延、平二人诉说前事。高翔曰：“不如今晚去劫魏寨再复街亭。”当时三人在山坡下商议已定。待天色将晚兵分三路。魏延引兵先进径到街亭不见一人心中大疑未敢轻进且伏在路口等候忽见高翔兵到二人共说魏兵不知在何处。正没理会又不见王平兵到。忽然一声炮响火光冲天鼓起震地：魏兵齐出把魏延、高翔围在垓心。二人往来冲突不得脱身。忽听得山坡后喊声若雷一彪军杀入乃是王平救了高、魏二人径奔列柳城来。比及奔到城下时城边早有一军杀到旗上大书“魏都督郭淮”字样。原来郭淮与曹真商议恐司马懿得了全功乃分淮来取街亭；闻知司马懿、张郃成了此功遂引兵径袭列柳城。正遇三将大杀一阵。蜀兵伤者极多。魏延恐阳平关有失慌与王平、高翔望阳平关来。却说郭淮收了军马乃谓左右曰：“吾虽不得街亭却取了列柳城亦是大功。”引兵径到城下叫门只见城上一声炮响旗帜皆竖当头一面大旗上书“平西都督司马懿”。懿撑起悬空板倚定护心木栏干大笑曰：“郭伯济来何迟也？”淮大惊曰：“仲达神机吾不及也！”遂入城。相见已毕懿曰：“今街亭已失诸葛亮必走。公可与子丹星夜追之。”郭淮从其言出城而去。懿唤张郃曰：“子丹、伯济恐吾全获大功故来取此城池。吾非独欲成功乃侥幸而已。吾料魏延、王平、马谡、高翔等辈必先去据阳平关。吾若去取此关诸葛亮必随后掩杀中其计矣。兵法云：归师勿掩穷寇莫追。汝可从小路抄箕谷退兵。吾自引兵当斜谷之兵。若彼败走不可相拒只宜中途截住：蜀兵辎重可尽得也。”张郃受计引兵一半去了。懿下令：“竟取斜谷由西城而进。西城虽山僻小县乃蜀兵屯粮之所又南安、天水、安定三郡总路。若得此城三郡可复矣。”于是司马懿留申耽、申仪守列柳城自领大军望斜谷进。却说孔明自令马谡等守街亭去后犹豫不定。忽报王平使人送图本至。孔明唤入左右呈上图本。孔明就文几上拆开视之拍案大惊曰：“马谡无知坑陷吾军矣！”左右问曰：“丞相何故失惊？”孔明曰：“吾观此图本失却要路占山为寨。倘魏兵大至四面围合断汲水道路不须二日军自乱矣。若街亭有失吾等安归？”长史杨仪进曰：“某虽不才愿替马幼常回。”孔明将安营之法一一分付与杨仪。正待要行忽报马到来说：“街亭、列柳城尽皆失了！”孔明跌足长叹曰：“大事去矣！此吾之过也！”急唤关兴、张苞分付曰：“汝二人各引三千精兵投武功山小路而行。如遇魏兵不可大击只鼓噪呐喊为疑兵惊之。彼当自走亦不可追。待军退尽便投阳平关去。”又令张冀先引军去修理剑阁以备归路。又密传号令教大军暗暗收拾行装以备起程。又令马岱、姜维断后先伏于山谷中待诸军退尽方始收兵。又差心腹人分路报与天水、南安、安定三郡官吏军民皆入汉中。又遣心腹人到冀县搬取姜维老母送入汉中。孔明分拨已定先引五千兵退去西城县搬运粮草。忽然十余次飞马报到说：“司马懿引大军十五万望西城蜂拥而来！”时孔明身边别无大将只有一班文官所引五千兵已分一半先运粮草去了只剩二千五百军在城中。众官听得这个消息尽皆失色。孔明登城望之果然尘土冲天魏兵分两路望西城县杀来。孔明传令教“将旌旗尽皆隐匿；诸军各守城铺如有妄行出入及高言大语者斩之！大开四门每一门用二十军士扮作百姓洒扫街道。如魏兵到时不可擅动吾自有计。”孔明乃披鹤氅戴纶巾引二小童携琴一张于城上敌楼前凭栏而坐焚香操琴。却说司马懿前军哨到城下见了如此模样皆不敢进急报与司马懿。懿笑而不信遂止住三军自飞马远远望之。果见孔明坐于城楼之上笑容可掬焚香操琴。左有一童子手捧宝剑；右有一童子手执麈尾。城门内外有二十余百姓低头洒扫傍若无人懿看毕大疑便到中军教后军作前军前军作后军望北山路而退。次子司马昭曰：“莫非诸葛亮无军故作此态？父亲何故便退兵？”懿曰：“亮平生谨慎不曾弄险。今大开城门必有埋伏。我兵若进中其计也。汝辈岂知？宜退。”于是两路兵尽皆退去。孔明见魏军远去抚掌而笑。众官无不骇然乃问孔明曰：“司马懿乃魏之名将今统十五万精兵到此见了丞相便退去何也？”孔明曰：“此人料吾生平谨慎必不弄险；见如此模样疑有伏兵所以退去。吾非行险盖因不得已而用之。此人必引军投山北小路去也。吾已令兴、苞二人在彼等候。”众皆惊服曰：“丞相之机神鬼莫测。若某等之见必弃城而走矣。”孔明曰：“吾兵止有二千五百若弃城而走必不能远遁。得不为司马懿所擒乎？”后人有诗赞曰：“瑶琴三尺胜雄师诸葛西城退敌时。十五万人回马处土人指点到今疑。”言讫拍手大笑曰：“吾若为司马懿必不便退也。”遂下令教西城百姓随军入汉中；司马懿必将复来。于是孔明离西城望汉中而走。天水、安定、南安三郡官吏军民6续而来。却说司马懿望武功山小路而走。忽然山坡后喊杀连天鼓声震地。懿回顾二子曰：“吾若不走必中诸葛亮之计矣。”只见大路上一军杀来旗上大书“右护卫使虎冀将军张苞”。魏兵皆弃甲抛戈而走。行不到一程山谷中喊声震地鼓角喧天前面一杆大旗上书“左护卫使龙骧将军关兴”。山谷应声不知蜀兵多少；更兼魏军心疑不敢久停只得尽弃辎重而去。兴、苞二人皆遵将令不敢追袭多得军器粮草而归。司马懿见山谷中皆有蜀兵不敢出大路遂回街亭。此时曹真听知孔明退兵急引兵追赶。山背后一声炮响蜀兵漫山遍野而来：为大将乃是姜维、马岱。真大惊急退军时先锋陈造已被马岱所斩。真引兵鼠窜而还。蜀兵连夜皆奔回汉中。却说赵云、邓芝伏兵于箕谷道中。闻孔明传令回军云谓芝曰：“魏军知吾兵退必然来追。吾先引一军伏于其后公却引兵打吾旗号徐徐而退。吾一步步自有护送也。却说郭淮提兵再回箕谷道中唤先锋苏顒分付曰：“蜀将赵云英勇无敌。汝可小心提防彼军若退必有计也。”苏顒欣然曰：“都督若肯接应某当生擒赵云。”遂引前部三千兵奔入箕谷。看看赶上蜀兵只见山坡后闪出红旗白字上书“赵云”。苏顒急收兵退走。行不到数里喊声大震一彪军撞出：为大将挺枪跃马大喝曰：“汝识赵子龙否！”苏顒大惊曰：“如何这里又有赵云？”措手不及被云一枪刺死于马下。余军溃散。云迤逦前进背后又一军到乃郭淮部将万政也。云见魏兵追急乃勒马挺枪立于路口待来将交锋。蜀兵已去三十余里。万政认得是赵云不敢前进云等得天色黄昏方才拨回马缓缓而进。郭淮兵到万政言赵云英勇如旧因此不敢近前。淮传令教军急赶政令数百骑壮士赶来。行至一大林忽听得背后大喝一声曰：“赵子龙在此！”惊得魏兵落马者百余人余者皆越岭而去。万政勉强来敌被云一箭射中盔缨惊跌于涧中。云以枪指之曰：“吾饶汝性命回去！快教郭淮赶来！”万政脱命而回。云护送车仗人马望汉中而去沿途并无遗失。曹真、郭淮复夺三郡以为己功。却说司马懿分兵而进。此时蜀兵尽回汉中去了懿引一军复到西城因问遗下居民及山僻隐者皆言孔明止有二千五百军在城中又无武将只有几个文官别无埋伏。武功山小民告曰：“关兴、张苞只各有三千军转山呐喊鼓噪惊追又无别军并不敢厮杀。”懿悔之不及仰天叹曰：“吾不如孔明也！”遂安抚了诸处官民引兵径还长安朝见魏主。睿曰：“今日复得陇西诸郡皆卿之功也。”懿奏曰：“今蜀兵皆在汉中未尽剿灭。臣乞大兵并力收川以报陛下。”睿大喜令懿即便兴兵。忽班内一人出奏曰：“臣有一计足可定蜀降吴。”正是：蜀中将相方归国魏地君臣又逞谋。未知献计者是谁且看下文分解。